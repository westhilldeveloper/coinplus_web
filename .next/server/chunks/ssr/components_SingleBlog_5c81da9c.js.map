{"version":3,"sources":["../../../../components/SingleBlog.js"],"sourcesContent":["// components/SingleBlog.js\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function SingleBlog() {\r\n  const [blog, setBlog] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const params = useParams();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (params.id) {\r\n      fetchBlog();\r\n    }\r\n  }, [params.id]);\r\n\r\n  console.log(\"params\",params);\r\n\r\n  const fetchBlog = async () => {\r\n    try {\r\n      const response = await fetch(`/api/admin/blog/${params.id}`);\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Blog post not found');\r\n      }\r\n      \r\n      setBlog(data.data);\r\n    } catch (err) {\r\n      console.error('Fetch error:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Format text with preserved formatting (same as BlogDisplay)\r\n  const formatBlogContent = (content) => {\r\n    if (!content) return '';\r\n    \r\n    const paragraphs = content.split(/\\n\\n+/);\r\n    \r\n    return paragraphs.map((paragraph, index) => {\r\n      if (!paragraph.trim()) return null;\r\n      \r\n      // Check if paragraph starts with bullet or number\r\n      if (paragraph.trim().startsWith('•') || /^\\d+\\./.test(paragraph.trim())) {\r\n        const lines = paragraph.split('\\n').filter(line => line.trim());\r\n        const isNumbered = /^\\d+\\./.test(lines[0]?.trim());\r\n        \r\n        return (\r\n          <div key={index} className=\"my-6\">\r\n            {isNumbered ? (\r\n              <ol className=\"list-decimal pl-8 space-y-3\">\r\n                {lines.map((line, lineIndex) => (\r\n                  <li key={lineIndex} className=\"text-gray-700 text-lg\">\r\n                    {formatInlineText(line.replace(/^\\d+\\.\\s*/, ''))}\r\n                  </li>\r\n                ))}\r\n              </ol>\r\n            ) : (\r\n              <ul className=\"list-disc pl-8 space-y-3\">\r\n                {lines.map((line, lineIndex) => (\r\n                  <li key={lineIndex} className=\"text-gray-700 text-lg\">\r\n                    {formatInlineText(line.replace(/^•\\s*/, ''))}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        );\r\n      }\r\n      \r\n      // Check if it's a heading (lines with no ending punctuation)\r\n      if (paragraph.length < 100 && !paragraph.match(/[.!?]$/)) {\r\n        return (\r\n          <h3 key={index} className=\"text-2xl font-bold text-gray-800 mt-8 mb-4\">\r\n            {formatInlineText(paragraph)}\r\n          </h3>\r\n        );\r\n      }\r\n      \r\n      // Regular paragraph\r\n      return (\r\n        <p key={index} className=\"my-6 text-gray-700 text-lg leading-relaxed\">\r\n          {formatInlineText(paragraph)}\r\n        </p>\r\n      );\r\n    });\r\n  };\r\n\r\n  const formatInlineText = (text) => {\r\n    const elements = [];\r\n    let lastIndex = 0;\r\n    \r\n    const combinedPattern = /\\*\\*(.*?)\\*\\*|\\*(.*?)\\*|\\[(.*?)\\]\\((.*?)\\)/g;\r\n    \r\n    let match;\r\n    while ((match = combinedPattern.exec(text)) !== null) {\r\n      if (match.index > lastIndex) {\r\n        elements.push(text.substring(lastIndex, match.index));\r\n      }\r\n      \r\n      if (match[0].startsWith('**')) {\r\n        elements.push(<strong key={match.index} className=\"font-bold\">{match[1]}</strong>);\r\n      } else if (match[0].startsWith('*') && !match[0].startsWith('**')) {\r\n        elements.push(<em key={match.index} className=\"italic\">{match[2]}</em>);\r\n      } else if (match[0].startsWith('[')) {\r\n        elements.push(\r\n          <a \r\n            key={match.index} \r\n            href={match[4]} \r\n            target=\"_blank\" \r\n            rel=\"noopener noreferrer\"\r\n            className=\"text-blue-600 hover:text-blue-800 underline\"\r\n          >\r\n            {match[3]}\r\n          </a>\r\n        );\r\n      }\r\n      \r\n      lastIndex = combinedPattern.lastIndex;\r\n    }\r\n    \r\n    if (lastIndex < text.length) {\r\n      elements.push(text.substring(lastIndex));\r\n    }\r\n    \r\n    return elements.length > 0 ? elements : text;\r\n  };\r\n\r\n  const getReadingTime = (content) => {\r\n    const words = content.split(' ').length;\r\n    return Math.ceil(words / 200); // 200 words per minute\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className=\"flex justify-center items-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n    </div>\r\n  );\r\n  \r\n  if (error) return (\r\n    <div className=\"min-h-screen flex items-center justify-center\">\r\n      <div className=\"text-center\">\r\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-4\">Blog Post Not Found</h1>\r\n        <p className=\"text-gray-600 mb-6\">{error}</p>\r\n        <Link \r\n          href=\"/media/blog\"\r\n          className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n        >\r\n          Back to Blog\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (!blog) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      {/* Hero Section */}\r\n      <div className=\"relative\">\r\n        <div className=\"absolute inset-0\">\r\n          <img\r\n            src={blog.imageUrl}\r\n            alt={blog.title}\r\n            className=\"w-full h-full object-fit\"\r\n          />\r\n          <div className=\"absolute inset-0 bg-black/40\"></div>\r\n        </div>\r\n        \r\n        <div className=\"relative max-w-4xl mx-auto px-4 py-24 text-white\">\r\n          <Link \r\n            href=\"/media/blog\"\r\n            className=\"inline-flex items-center text-white/80 hover:text-white mb-6\"\r\n          >\r\n            <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n            </svg>\r\n            Back to Blog\r\n          </Link>\r\n          \r\n          <div className=\"flex items-center space-x-4 mb-4\">\r\n            <div className=\"flex items-center\">\r\n              <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n              {new Date(blog.createdAt).toLocaleDateString('en-US', {\r\n                month: 'long',\r\n                day: 'numeric',\r\n                year: 'numeric'\r\n              })}\r\n            </div>\r\n            <div className=\"flex items-center\">\r\n              <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              {getReadingTime(blog.description)} min read\r\n            </div>\r\n          </div>\r\n          \r\n          <h1 className=\"text-4xl md:text-5xl font-bold mb-6\">{blog.title}</h1>\r\n          \r\n        </div>\r\n      </div>\r\n\r\n      {/* Content Section */}\r\n      <div className=\"max-w-4xl mx-auto px-4 py-12\">\r\n        <article className=\"prose prose-lg max-w-none\">\r\n          {formatBlogContent(blog.description)}\r\n        </article>\r\n        \r\n        {/* Share Section */}\r\n        <div className=\"mt-12 pt-8 border-t border-gray-200\">\r\n          <div className=\"flex flex-col md:flex-row items-center justify-between\">\r\n            <div className=\"mb-4 md:mb-0\">\r\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Share this article</h3>\r\n              <div className=\"flex space-x-3\">\r\n                <button className=\"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200\">\r\n                  <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path d=\"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z\"/>\r\n                  </svg>\r\n                </button>\r\n                <button className=\"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200\">\r\n                  <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path d=\"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z\"/>\r\n                  </svg>\r\n                </button>\r\n                <button className=\"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200\">\r\n                  <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path d=\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z\"/>\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <Link \r\n              href=\"/media/blog\"\r\n              className=\"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium\"\r\n            >\r\n              Back to All Articles\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}