module.exports=[18156,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null),n=(0,d.useRouter)();(0,c.useEffect)(()=>{o()},[]);let o=async()=>{try{let a=await fetch("/api/admin/gallery"),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to fetch galleries");e(b.data||[]),i("")}catch(a){console.error("Fetch error:",a),i(a.message)}finally{g(!1)}},p=async a=>{k(a);try{let b=await fetch(`/api/admin/gallery/${a}`,{method:"DELETE"}),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to delete gallery");e(b=>b.filter(b=>b.id!==a)),m(null)}catch(a){console.error("Delete error:",a),i(a.message)}finally{k(null)}};return f?(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):h?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-red-600 mb-2",children:"Error loading galleries"}),(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:h}),(0,b.jsx)("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try again"})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Galleries"}),(0,b.jsxs)("button",{onClick:()=>n.push("/admin/media/gallery/create"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Create Gallery"]})]}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,b.jsx)("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("p",{className:"text-lg",children:"No galleries yet"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:"Create your first gallery to get started"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow duration-300",children:[(0,b.jsxs)("div",{className:"relative h-48 w-full overflow-hidden bg-gray-100",children:[a.images.length>0?(0,b.jsx)("img",{src:a.images[0],alt:a.title,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,b.jsx)("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,b.jsxs)("div",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs px-2 py-1 rounded",children:[a.images.length," photos"]})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-2 truncate",children:a.title}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(a.createdAt).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:["ID: ",a.id]})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void n.push(`/admin/media/gallery/edit/${b}`)},className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-md hover:bg-blue-100 text-sm font-medium flex items-center justify-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,b.jsx)("button",{onClick:()=>m(a.id),disabled:j===a.id,className:"flex-1 px-3 py-2 bg-red-50 text-red-700 rounded-md hover:bg-red-100 text-sm font-medium flex items-center justify-center disabled:opacity-50",children:j===a.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})})]})]})]},a.id))}),l&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Confirm Delete"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this gallery? This action cannot be undone."}),(0,b.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,b.jsx)("button",{onClick:()=>m(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>p(l),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete Gallery"})]})]})})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=components_Admin_components_GalleryList_57a4d57c.js.map