{"version":3,"sources":["../../../../components/EventsList.js"],"sourcesContent":["// components/eventsList.js\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function eventsList() {\r\n  const [events, setevents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchevents();\r\n  }, []);\r\n\r\n  const fetchevents = async () => {\r\n    try {\r\n      const response = await fetch('/api/admin/events');\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to fetch events');\r\n      }\r\n      \r\n      setevents(data.data || []);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className=\"flex justify-center py-12\">\r\n      <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600\"></div>\r\n    </div>\r\n  );\r\n  \r\n  if (error) return (\r\n    <div className=\"text-center py-12\">\r\n      <div className=\"text-red-600 mb-2\">Error loading events</div>\r\n      <div className=\"text-sm text-gray-600 mb-4\">{error}</div>\r\n      <button \r\n        onClick={fetchevents}\r\n        className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\r\n      >\r\n        Try again\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <h2 className=\"text-xl px-4 font-bold text-primary\">Recent events</h2>\r\n      \r\n      {events.length === 0 ? (\r\n        <div className=\"text-center py-12 text-gray-500\">\r\n          <svg className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"1.5\" d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z\" />\r\n          </svg>\r\n          <p className=\"text-lg\">No events articles yet</p>\r\n          <p className=\"text-sm mt-1\">Start by adding your first events article!</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          {events.map((item) => (\r\n            <div \r\n              key={item.id} \r\n              className=\" overflow-hidden \"\r\n            >\r\n              {/* Image Section - Full width on top */}\r\n              <div className=\"relative h-64 w-full overflow-hidden bg-gray-100\">\r\n                <img\r\n                  src={item.imageUrl}\r\n                  alt=\"events\"\r\n                  className=\"w-full h-full object-fit hover:scale-105 transition-transform duration-300\"\r\n                  onError={(e) => {\r\n                    e.target.src = 'https://via.placeholder.com/400x256/cccccc/969696?text=Image+Not+Available';\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              {/* Content Section - Below image */}\r\n              <div className=\"p-5\">\r\n                {/* Date */}\r\n                <div className=\"flex items-center text-sm text-gray-500 mb-3\">\r\n                  <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                  </svg>\r\n                  {new Date(item.createdAt).toLocaleDateString('en-US', {\r\n                    year: 'numeric',\r\n                    month: 'short',\r\n                    day: 'numeric'\r\n                  })}\r\n                  <span className=\"mx-2\">â€¢</span>\r\n                  <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  {new Date(item.createdAt).toLocaleTimeString('en-US', {\r\n                    hour: '2-digit',\r\n                    minute: '2-digit'\r\n                  })}\r\n                </div>\r\n                \r\n                {/* Description */}\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-gray-700 text-base leading-relaxed line-clamp-4\">\r\n                    {item.description}\r\n                  </p>\r\n                  {item.description.length > 200 && (\r\n                    <span className=\"text-blue-600 text-sm font-medium mt-2 inline-block\">\r\n                      Read more\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                \r\n               \r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Refresh Button */}\r\n      {events.length > 0 && (\r\n        <div className=\"flex justify-center pt-4\">\r\n          <button \r\n            onClick={fetchevents}\r\n            className=\"flex items-center px-5 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium\"\r\n          >\r\n            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n            </svg>\r\n            Refresh events\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"wDAGA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAE,EACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEnC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,EAAE,EAEL,IAAM,EAAc,UAClB,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,qBACvB,EAAO,MAAM,EAAS,IAAI,GAEhC,GAAI,CAAC,EAAS,EAAE,CACd,CADgB,KACV,AAAI,MAAM,EAAK,KAAK,EAAI,0BAGhC,EAAU,EAAK,IAAI,EAAI,EAAE,CAC3B,CAAE,MAAO,EAAK,CACZ,EAAS,EAAI,OAAO,CACtB,QAAU,CACR,GAAW,EACb,CACF,SAEI,AAAJ,EACE,CAAA,EAAA,EAAA,EADW,CACX,EAAC,MAAA,CAAI,UAAU,qCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAIf,EACF,CAAA,EAAA,EADS,AACT,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BAAoB,yBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,IAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,2FACX,iBAOH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CAAsC,kBAEjC,IAAlB,EAAO,MAAM,CACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAAuC,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC9F,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,MAAM,EAAE,6IAEzE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAU,2BACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wBAAe,kDAG9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACZ,EAAO,GAAG,CAAC,AAAC,GACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,8BAGV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAK,QAAQ,CAClB,IAAI,SACJ,UAAU,6EACV,QAAU,AAAD,IACP,EAAE,MAAM,CAAC,GAAG,CAAG,4EACjB,MAKJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eAAe,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACtE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,6FAEtE,IAAI,KAAK,EAAK,SAAS,EAAE,kBAAkB,CAAC,QAAS,CACpD,KAAM,UACN,MAAO,QACP,IAAK,SACP,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,MACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eAAe,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACtE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,kDAEtE,IAAI,KAAK,EAAK,SAAS,EAAE,kBAAkB,CAAC,QAAS,CACpD,KAAM,UACN,OAAQ,SACV,MAIF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gEACV,EAAK,WAAW,GAElB,EAAK,WAAW,CAAC,MAAM,CAAG,KACzB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+DAAsD,sBA3CvE,EAAK,EAAE,KAyDnB,EAAO,MAAM,CAAG,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,uIAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eAAe,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACtE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAY,IAAI,EAAE,kHACjE,wBAOlB"}