{"version":3,"sources":["../../../../app/admin/layout.js"],"sourcesContent":["// app/admin/layout.js\r\n'use client'\r\n\r\n\r\nimport { useAuth } from '../context/AuthContext'\r\nimport { useRouter, usePathname } from 'next/navigation'\r\nimport { useEffect } from 'react'\r\n\r\nexport default function AdminLayout({ children }) {\r\n  const { user, loading } = useAuth()\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      const isAuthPage = pathname === '/admin/login'\r\n      const isProtectedRoute = pathname.startsWith('/admin') && !isAuthPage\r\n      \r\n      if (isProtectedRoute && !user) {\r\n        router.push('/admin/login')\r\n      }\r\n      \r\n      if (isAuthPage && user) {\r\n        router.push('/admin/dashboard')\r\n      }\r\n    }\r\n  }, [user, loading, pathname, router])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Don't render anything while checking auth\r\n  if (!user && pathname !== '/admin/login') {\r\n    return null\r\n  }\r\n\r\n  return <>{children}</>\r\n}"],"names":[],"mappings":"wDAIA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,EAAY,CAAE,UAAQ,CAAE,EAC9C,GAAM,MAAE,CAAI,SAAE,CAAO,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAC3B,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,UAiB5B,CAfA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAS,CACZ,IAAM,EAA0B,iBAAb,CAGf,EAFqB,EAAS,UAAU,CAAC,KAErB,MAFmC,EAAD,CAEjC,GACvB,EAAO,CADsB,GAClB,CAAC,gBAGV,GAAc,GAChB,EAAO,CADe,GACX,CAAC,mBAEhB,CACF,EAAG,CAAC,EAAM,EAAS,EAAU,EAAO,EAEhC,GAEA,CAAA,EAAA,EAAA,CAFS,EAET,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,oBAOtC,AAAC,GAAqB,gBAAgB,CAA7B,EAIN,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAG,IAHD,IAIX"}