{"version":3,"sources":["../../../../app/media/gallery/page.js"],"sourcesContent":["// components/GalleryDisplay.js\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function GalleryDisplay() {\r\n  const [galleries, setGalleries] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchGalleries();\r\n  }, []);\r\n\r\n  const fetchGalleries = async () => {\r\n    try {\r\n      const response = await fetch('/api/admin/gallery');\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to fetch galleries');\r\n      }\r\n      \r\n      setGalleries(data.data || []);\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Fetch error:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const openImageModal = (imageUrl, galleryTitle, imageIndex) => {\r\n    setSelectedImage({ imageUrl, galleryTitle, imageIndex });\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n\r\n  const closeImageModal = () => {\r\n    setSelectedImage(null);\r\n    document.body.style.overflow = 'auto';\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className=\"flex justify-center items-center min-h-[400px]\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n    </div>\r\n  );\r\n  \r\n  if (error) return (\r\n    <div className=\"text-center py-12\">\r\n      <div className=\"text-red-600 mb-2\">Error loading galleries</div>\r\n      <div className=\"text-sm text-gray-600 mb-4\">{error}</div>\r\n      <button \r\n        onClick={fetchGalleries}\r\n        className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n      >\r\n        Try again\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"py-12\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n              \r\n        {galleries.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"inline-block p-8 bg-gray-100 rounded-full mb-4\">\r\n              <svg className=\"w-16 h-16 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"1\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-primary mb-2\">No Galleries Available</h3>\r\n            <p className=\"text-gray-500\">Check back later for new photo collections.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-16\">\r\n            {galleries.map((gallery) => (\r\n              <div key={gallery.id} className=\"gallery-section\">\r\n                {/* Gallery Title */}\r\n                <div className=\"mb-8\">\r\n                  <h2 className=\"text-3xl font-bold text-primary mb-4\">{gallery.title}</h2>\r\n                  {gallery.description && (\r\n                    <p className=\"text-sm text-gray-600 leading-relaxed max-w-4xl\">\r\n                      {gallery.description}\r\n                    </p>\r\n                  )}\r\n                  <div className=\"flex items-center text-sm text-gray-500 mt-4\">\r\n                    <div className=\"flex items-center mr-6\">\r\n                      <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                      </svg>\r\n                      {new Date(gallery.createdAt).toLocaleDateString('en-US', {\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                        year: 'numeric'\r\n                      })}\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                      </svg>\r\n                      {gallery.images.length} photos\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Images Grid */}\r\n                {gallery.images.length > 0 && (\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n                    {gallery.images.map((image, index) => (\r\n                      <div \r\n                        key={index}\r\n                        className=\"group cursor-pointer\"\r\n                        onClick={() => openImageModal(image, gallery.title, index)}\r\n                      >\r\n                        <div className=\"relative overflow-hidden rounded-lg bg-gray-100 aspect-square\">\r\n                          <img\r\n                            src={image}\r\n                            alt={`${gallery.title} - Image ${index + 1}`}\r\n                            className=\"w-full h-full object-fit group-hover:scale-110 transition-transform duration-500\"\r\n                            loading=\"lazy\"\r\n                          />\r\n                          {/* Image number overlay */}\r\n                          <div className=\"absolute top-3 right-3 bg-black/60 text-white text-xs font-medium px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n                            #{index + 1}\r\n                          </div>\r\n                          {/* View overlay */}\r\n                          <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center\">\r\n                            <div className=\"bg-white/90 rounded-full p-3 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300\">\r\n                              <svg className=\"w-6 h-6 text-gray-800\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\" />\r\n                              </svg>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            \r\n            {/* Stats */}\r\n            <div className=\"mt-12 p-6 bg-gradient-to-r from-primary to-purple-600 rounded-2xl border border-blue-100\">\r\n              <div className=\"flex flex-col md:flex-row items-center justify-between\">\r\n                <div className=\"text-center md:text-left mb-4 md:mb-0\">\r\n                  <h3 className=\"text-xl font-bold text-white\">Our Photo Collection</h3>\r\n                  <p className=\"text-gray-300\">Beautiful moments captured forever</p>\r\n                </div>\r\n                <div className=\"flex space-x-8\">\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-3xl font-bold text-blue-300\">{galleries.length}</div>\r\n                    <div className=\"text-sm text-gray-300\">Galleries</div>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-3xl font-bold text-blue-300\">\r\n                      {galleries.reduce((total, gallery) => total + gallery.images.length, 0)}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-300\">Total Photos</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Image Modal */}\r\n      {selectedImage && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4\">\r\n          <div className=\"relative w-full max-w-6xl\">\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={closeImageModal}\r\n              className=\"absolute top-4 right-4 z-10 text-white bg-black/50 hover:bg-black/70 p-3 rounded-full\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            {/* Main Image */}\r\n            <div className=\"relative rounded-lg overflow-hidden bg-black\">\r\n              <img\r\n                src={selectedImage.imageUrl}\r\n                alt={`${selectedImage.galleryTitle}`}\r\n                className=\"w-full h-auto max-h-[70vh] object-contain\"\r\n              />\r\n              \r\n              {/* Image Info Overlay */}\r\n              <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6\">\r\n                <h3 className=\"text-xl font-bold text-white mb-1\">{selectedImage.galleryTitle}</h3>\r\n                <p className=\"text-gray-300 text-sm\">Image #{selectedImage.imageIndex + 1}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}