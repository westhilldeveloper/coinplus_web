module.exports=[18326,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);let e=!1,f=!1,g=[],h=({latitude:a,longitude:d,branchName:h,address:i})=>{let j=(0,c.useRef)(null),k=(0,c.useRef)(null),l=(0,c.useRef)(null),[m,n]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{if(a&&d)return new Promise((a,b)=>{if(e)return void a();if(window.google&&window.google.maps){e=!0,a();return}if(f)return void g.push(a);f=!0;let c=document.createElement("script");c.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6DfhegFXqMkTjJIenP7FPjCvQ8bGOYtM",c.async=!0,c.defer=!0,c.onload=()=>{e=!0,f=!1,a(),g.forEach(a=>a()),g=[]},c.onerror=a=>{f=!1,b(a)},document.head.appendChild(c)}).then(()=>{j.current&&(()=>{if(!window.google||!window.google.maps)return console.error("Google Maps not loaded");let b={center:{lat:parseFloat(a),lng:parseFloat(d)},zoom:15,mapTypeControl:!1,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,mapTypeId:window.google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]}]};k.current=new window.google.maps.Map(j.current,b),l.current=new window.google.maps.Marker({position:{lat:parseFloat(a),lng:parseFloat(d)},map:k.current,title:h,animation:window.google.maps.Animation.DROP,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
              <circle cx="20" cy="20" r="15" fill="#2563eb" opacity="0.9"/>
              <circle cx="20" cy="20" r="6" fill="white"/>
              <circle cx="20" cy="20" r="3" fill="#2563eb"/>
            </svg>
          `),scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,40)}}),new window.google.maps.InfoWindow({content:`
          <div style="padding: 12px; max-width: 250px;">
            <h3 style="margin: 0 0 8px 0; color: #1e3a8a; font-weight: 600; font-size: 14px;">${h}</h3>
            <p style="margin: 0; color: #4b5563; font-size: 13px; line-height: 1.4;">${i}</p>
            <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid #e5e7eb;">
              <a href="https://www.google.com/maps?q=${a},${d}" 
                 target="_blank" 
                 style="color: #2563eb; text-decoration: none; font-size: 13px; font-weight: 500;">
                Open in Google Maps â†’
              </a>
            </div>
          </div>
        `}).open(k.current,l.current),n(!0)})()}).catch(a=>{console.error("Failed to load Google Maps:",a)}),()=>{l.current&&l.current.setMap(null),k.current}},[a,d,h,i]),!a||!d)return(0,b.jsxs)("div",{className:"bg-gray-100 h-48 rounded-lg flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"text-gray-400 mb-2",children:"ðŸ“"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"No location coordinates available"})]});let o=`https://www.google.com/maps?q=${a},${d}`,p=`https://www.google.com/maps/dir/?api=1&destination=${a},${d}`;return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{ref:j,className:"w-full h-48 rounded-lg overflow-hidden border border-gray-300"}),!m&&(0,b.jsx)("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),(0,b.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[(0,b.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"bg-white p-1.5 rounded shadow-sm hover:shadow transition-shadow",title:"Get Directions",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,b.jsx)("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"bg-white p-1.5 rounded shadow-sm hover:shadow transition-shadow",title:"Open in Google Maps",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})},i=({latitude:a,longitude:c,branchName:d})=>{if(!a||!c)return(0,b.jsxs)("div",{className:"bg-gray-100 h-48 rounded-lg flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"text-gray-400 mb-2",children:"ðŸ“"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"No location coordinates available"})]});let e=`https://maps.googleapis.com/maps/api/staticmap?center=${a},${c}&zoom=15&size=600x300&markers=color:blue%7C${a},${c}&key=AIzaSyA6DfhegFXqMkTjJIenP7FPjCvQ8bGOYtM`,f=`https://www.google.com/maps?q=${a},${c}`;return(0,b.jsx)("div",{className:"relative group",children:(0,b.jsxs)("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block",children:[(0,b.jsx)("img",{src:e,alt:`${d} location`,className:"w-full h-48 rounded-lg object-cover border border-gray-300",onError:b=>{b.target.onerror=null,b.target.src=`https://maps.googleapis.com/maps/api/staticmap?center=${a},${c}&zoom=15&size=600x300&markers=color:blue%7C${a},${c}`}}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent rounded-lg group-hover:from-black/20 transition-all"}),(0,b.jsx)("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:"Click to open in Google Maps"})]})})};a.s(["default",0,()=>{let a=(0,d.useSearchParams)();(0,d.useRouter)();let e=a.get("state"),f=a.get("branch"),g=a.get("branchId");console.log("url state",e,f,g);let[j,k]=(0,c.useState)({}),[l,m]=(0,c.useState)(e||""),[n,o]=(0,c.useState)(f||null),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1);return(console.log("selected state and branch===>",l,n),(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/admin/branches"),b=(await a.json()).reduce((a,b)=>(a[b.state]||(a[b.state]=[]),a[b.state].push(b),a),{});if(k(b),e&&b[e]){m(e);let a=b[e].find(a=>a.name===f||String(a.id)===String(g));a?o(a):o(b[e][0]);return}let c=Object.keys(b)[0];c&&(m(c),o(b[c][0]))}catch(a){console.error("Error fetching branches:",a)}finally{q(!1)}})()},[e,f,g]),p)?(0,b.jsx)("div",{className:"w-full mx-auto p-8 text-center",children:(0,b.jsx)("div",{className:"text-lg",children:"Loading branches..."})}):0===Object.keys(j).length?(0,b.jsx)("div",{className:"w-full mx-auto p-8 text-center",children:(0,b.jsx)("div",{className:"text-lg text-gray-500",children:"No branches found"})}):(0,b.jsxs)("div",{className:"w-full mx-auto p-4 md:p-6 lg:p-8 font-sans",children:[(0,b.jsx)("h1",{className:"text-lg md:text-xl font-bold text-primary mb-8",children:"Branches"}),(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,b.jsxs)("div",{className:"lg:w-1/4",children:[(0,b.jsx)("h2",{className:"text-md md:text-lg font-semibold text-gray-700 mb-4",children:"Select State"}),(0,b.jsx)("div",{className:"flex flex-wrap lg:flex-col text-sm gap-2",children:Object.keys(j).map(a=>(0,b.jsx)("button",{onClick:()=>{m(a),j[a]&&j[a].length>0&&o(j[a][0])},className:`px-4 py-3 rounded-lg text-left transition-colors ${l===a?"bg-primary text-white font-semibold":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a},a))})]}),(0,b.jsxs)("div",{className:"lg:w-1/3",children:[(0,b.jsxs)("h2",{className:"text-md md:text-lg font-semibold text-gray-700 mb-4",children:["Branches in ",l]}),(0,b.jsx)("div",{className:"space-y-2 text-sm",children:j[l]?.map(a=>(0,b.jsx)("button",{onClick:()=>{o(a)},className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${n?.id===a.id?"bg-primary/20 border-l-4 border-primary":"bg-gray-50 hover:bg-gray-100"}`,children:(0,b.jsx)("span",{className:"font-medium text-gray-800",children:a.name})},a.id))})]}),(0,b.jsxs)("div",{className:"lg:w-2/4",children:[(0,b.jsx)("h2",{className:"text-md md:text-lg font-semibold text-gray-700 mb-4",children:"Branch Details"}),n?(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-300 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg md:text-xl font-bold text-primary mb-4",children:n.name}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Address"}),(0,b.jsxs)("p",{className:"text-gray-600 text-sm",children:[n.address,",",(0,b.jsx)("br",{}),n.city,", ",n.state]}),(0,b.jsxs)("p",{className:"text-gray-600 mt-1",children:[(0,b.jsx)("span",{className:"font-medium text-sm",children:"Pin:"})," ",n.pincode]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-700 text-sm mb-2",children:"Contact Information"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Email:"})," ",(0,b.jsx)("a",{href:`mailto:${n.email}`,className:"text-primary/50 hover:text-primary hover:underline transition-colors",children:n.email})]}),(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Phone 1:"})," ",(0,b.jsx)("a",{href:`tel:${n.phone1}`,className:"text-primary/50 hover:text-primary hover:underline transition-colors",children:n.phone1})]}),n.phone2&&(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Phone 2:"})," ",(0,b.jsx)("a",{href:`tel:${n.phone2}`,className:"text-primary/60 hover:text-primary hover:underline transition-colors",children:n.phone2})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-700",children:"Location"}),n.latitude&&n.longitude&&(0,b.jsx)("button",{onClick:()=>s(!r),className:"text-xs text-primary hover:text-primary-dark",children:r?"Switch to Static Map":"Switch to Interactive Map"})]}),n.latitude&&n.longitude?r?(0,b.jsx)(h,{latitude:n.latitude,longitude:n.longitude,branchName:n.name,address:`${n.address}, ${n.city}`}):(0,b.jsx)(i,{latitude:n.latitude,longitude:n.longitude,branchName:n.name}):(0,b.jsxs)("div",{className:"bg-gray-100 h-48 rounded-lg flex flex-col items-center justify-center",children:[(0,b.jsx)("div",{className:"text-gray-400 mb-2",children:"ðŸ“"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"No location coordinates available"}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Latitude/Longitude not provided for this branch"})]}),n.latitude&&n.longitude&&(0,b.jsxs)("div",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[(0,b.jsxs)("span",{children:["Coordinates: ",n.latitude,", ",n.longitude]}),(0,b.jsx)("a",{href:`https://www.google.com/maps?q=${n.latitude},${n.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Open in new tab â†’"})]})]})]})]}):(0,b.jsx)("div",{className:"bg-gray-50 p-8 rounded-xl border border-gray-300 text-center",children:(0,b.jsx)("p",{className:"text-gray-500",children:"Select a branch to view details"})})]})]})]})},"loadGoogleMapsScript",0,()=>Promise.resolve()])}];

//# sourceMappingURL=components_contactus_BranchLocator_jsx_564da660._.js.map