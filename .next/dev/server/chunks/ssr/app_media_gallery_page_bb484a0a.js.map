{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/coinplusweb/app/media/gallery/page.js"],"sourcesContent":["// components/GalleryDisplay.js\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function GalleryDisplay() {\r\n  const [galleries, setGalleries] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchGalleries();\r\n  }, []);\r\n\r\n  const fetchGalleries = async () => {\r\n    try {\r\n      const response = await fetch('/api/admin/gallery');\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to fetch galleries');\r\n      }\r\n      \r\n      setGalleries(data.data || []);\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Fetch error:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const openImageModal = (imageUrl, galleryTitle, imageIndex) => {\r\n    setSelectedImage({ imageUrl, galleryTitle, imageIndex });\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n\r\n  const closeImageModal = () => {\r\n    setSelectedImage(null);\r\n    document.body.style.overflow = 'auto';\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className=\"flex justify-center items-center min-h-[400px]\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n    </div>\r\n  );\r\n  \r\n  if (error) return (\r\n    <div className=\"text-center py-12\">\r\n      <div className=\"text-red-600 mb-2\">Error loading galleries</div>\r\n      <div className=\"text-sm text-gray-600 mb-4\">{error}</div>\r\n      <button \r\n        onClick={fetchGalleries}\r\n        className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n      >\r\n        Try again\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"py-12\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n              \r\n        {galleries.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"inline-block p-8 bg-gray-100 rounded-full mb-4\">\r\n              <svg className=\"w-16 h-16 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"1\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-primary mb-2\">No Galleries Available</h3>\r\n            <p className=\"text-gray-500\">Check back later for new photo collections.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-16\">\r\n            {galleries.map((gallery) => (\r\n              <div key={gallery.id} className=\"gallery-section\">\r\n                {/* Gallery Title */}\r\n                <div className=\"mb-8\">\r\n                  <h2 className=\"text-3xl font-bold text-primary mb-4\">{gallery.title}</h2>\r\n                  {gallery.description && (\r\n                    <p className=\"text-sm text-gray-600 leading-relaxed max-w-4xl\">\r\n                      {gallery.description}\r\n                    </p>\r\n                  )}\r\n                  <div className=\"flex items-center text-sm text-gray-500 mt-4\">\r\n                    <div className=\"flex items-center mr-6\">\r\n                      <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                      </svg>\r\n                      {new Date(gallery.createdAt).toLocaleDateString('en-US', {\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                        year: 'numeric'\r\n                      })}\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                      </svg>\r\n                      {gallery.images.length} photos\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Images Grid */}\r\n                {gallery.images.length > 0 && (\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n                    {gallery.images.map((image, index) => (\r\n                      <div \r\n                        key={index}\r\n                        className=\"group cursor-pointer\"\r\n                        onClick={() => openImageModal(image, gallery.title, index)}\r\n                      >\r\n                        <div className=\"relative overflow-hidden rounded-lg bg-gray-100 aspect-square\">\r\n                          <img\r\n                            src={image}\r\n                            alt={`${gallery.title} - Image ${index + 1}`}\r\n                            className=\"w-full h-full object-fit group-hover:scale-110 transition-transform duration-500\"\r\n                            loading=\"lazy\"\r\n                          />\r\n                          {/* Image number overlay */}\r\n                          <div className=\"absolute top-3 right-3 bg-black/60 text-white text-xs font-medium px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n                            #{index + 1}\r\n                          </div>\r\n                          {/* View overlay */}\r\n                          <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center\">\r\n                            <div className=\"bg-white/90 rounded-full p-3 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300\">\r\n                              <svg className=\"w-6 h-6 text-gray-800\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\" />\r\n                              </svg>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            \r\n            {/* Stats */}\r\n            <div className=\"mt-12 p-6 bg-gradient-to-r from-primary to-purple-600 rounded-2xl border border-blue-100\">\r\n              <div className=\"flex flex-col md:flex-row items-center justify-between\">\r\n                <div className=\"text-center md:text-left mb-4 md:mb-0\">\r\n                  <h3 className=\"text-xl font-bold text-white\">Our Photo Collection</h3>\r\n                  <p className=\"text-gray-300\">Beautiful moments captured forever</p>\r\n                </div>\r\n                <div className=\"flex space-x-8\">\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-3xl font-bold text-blue-300\">{galleries.length}</div>\r\n                    <div className=\"text-sm text-gray-300\">Galleries</div>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-3xl font-bold text-blue-300\">\r\n                      {galleries.reduce((total, gallery) => total + gallery.images.length, 0)}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-300\">Total Photos</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Image Modal */}\r\n      {selectedImage && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4\">\r\n          <div className=\"relative w-full max-w-6xl\">\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={closeImageModal}\r\n              className=\"absolute top-4 right-4 z-10 text-white bg-black/50 hover:bg-black/70 p-3 rounded-full\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            {/* Main Image */}\r\n            <div className=\"relative rounded-lg overflow-hidden bg-black\">\r\n              <img\r\n                src={selectedImage.imageUrl}\r\n                alt={`${selectedImage.galleryTitle}`}\r\n                className=\"w-full h-auto max-h-[70vh] object-contain\"\r\n              />\r\n              \r\n              {/* Image Info Overlay */}\r\n              <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6\">\r\n                <h3 className=\"text-xl font-bold text-white mb-1\">{selectedImage.galleryTitle}</h3>\r\n                <p className=\"text-gray-300 text-sm\">Image #{selectedImage.imageIndex + 1}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}