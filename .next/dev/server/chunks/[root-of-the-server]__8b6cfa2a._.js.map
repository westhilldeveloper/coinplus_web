{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/coinplusweb/app/api/branches/route.js"],"sourcesContent":["// app/api/branches/route.js\r\nimport { NextResponse } from 'next/server';\r\nimport { PrismaClient } from '@prisma/client';\r\n\r\nconst prisma = new PrismaClient();\r\n\r\n// GET all branches with optional state filter\r\nexport async function GET(request) {\r\n  const { searchParams } = new URL(request.url);\r\n  const state = searchParams.get('state');\r\n  \r\n  try {\r\n    // Build where clause\r\n    const where = {};\r\n    if (state) {\r\n  where.state = {\r\n    equals: state,\r\n    mode: 'insensitive'\r\n  };\r\n}\r\n    \r\n    const branches = await prisma.branch.findMany({\r\n      where: where,\r\n      orderBy: {\r\n        name: 'asc'\r\n      }\r\n    });\r\n    \r\n    // Return proper JSON structure\r\n    return NextResponse.json({\r\n      success: true,\r\n      data: branches\r\n    });\r\n  } catch (error) {\r\n    console.error('Error fetching branches:', error);\r\n    return NextResponse.json(\r\n      { \r\n        success: false,\r\n        error: 'Failed to fetch branches',\r\n        message: error.message \r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"AAAA,4BAA4B;;;;;AAC5B;AACA;;;AAEA,MAAM,SAAS,IAAI,6IAAY;AAGxB,eAAe,IAAI,OAAO;IAC/B,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,QAAQ,aAAa,GAAG,CAAC;IAE/B,IAAI;QACF,qBAAqB;QACrB,MAAM,QAAQ,CAAC;QACf,IAAI,OAAO;YACb,MAAM,KAAK,GAAG;gBACZ,QAAQ;gBACR,MAAM;YACR;QACF;QAEI,MAAM,WAAW,MAAM,OAAO,MAAM,CAAC,QAAQ,CAAC;YAC5C,OAAO;YACP,SAAS;gBACP,MAAM;YACR;QACF;QAEA,+BAA+B;QAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;QACR;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,OAAO;YACP,SAAS,MAAM,OAAO;QACxB,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}