{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/coinplusweb/app/api/send-email/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport nodemailer from 'nodemailer';\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    const { to, subject, formData } = await request.json();\r\n\r\n    // Create transporter\r\n    const transporter = nodemailer.createTransport({\r\n      service: 'gmail',\r\n      auth: {\r\n        user: process.env.EMAIL_USER, // Your Gmail address\r\n        pass: process.env.EMAIL_PASSWORD, // Your Gmail app password\r\n      },\r\n    });\r\n\r\n    // Email HTML content\r\n    const htmlContent = `\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>\r\n          <style>\r\n            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\r\n            .container { max-width: 600px; margin: 0 auto; padding: 20px; }\r\n            .header { background: linear-gradient(to right, #3b82f6, #1d4ed8); color: white; padding: 20px; border-radius: 8px 8px 0 0; }\r\n            .content { background: #f9fafb; padding: 20px; border-radius: 0 0 8px 8px; }\r\n            .field { margin-bottom: 15px; }\r\n            .label { font-weight: bold; color: #1f2937; }\r\n            .value { color: #4b5563; }\r\n            .divider { border-top: 2px solid #e5e7eb; margin: 20px 0; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <div class=\"container\">\r\n            <div class=\"header\">\r\n              <h1>New Enquiry - Margadarsi Chit Fund</h1>\r\n              <p>Submitted on: ${new Date().toLocaleString()}</p>\r\n            </div>\r\n            <div class=\"content\">\r\n              <div class=\"field\">\r\n                <div class=\"label\">Name:</div>\r\n                <div class=\"value\">${formData.name}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Email:</div>\r\n                <div class=\"value\">${formData.email}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Phone Number:</div>\r\n                <div class=\"value\">${formData.phone}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Chit Value:</div>\r\n                <div class=\"value\">${formData.chitValue}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Tenure:</div>\r\n                <div class=\"value\">${formData.tenure}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Occupation:</div>\r\n                <div class=\"value\">${formData.occupation}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Monthly Income:</div>\r\n                <div class=\"value\">${formData.monthlyIncome}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">State:</div>\r\n                <div class=\"value\">${formData.state}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Branch:</div>\r\n                <div class=\"value\">${formData.branch}</div>\r\n              </div>\r\n              <div class=\"divider\"></div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Additional Message:</div>\r\n                <div class=\"value\">${formData.message || 'No additional message provided.'}</div>\r\n              </div>\r\n              <div class=\"field\">\r\n                <div class=\"label\">Consent Given:</div>\r\n                <div class=\"value\">${formData.consent ? 'Yes' : 'No'}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </body>\r\n      </html>\r\n    `;\r\n\r\n    // Email options\r\n    const mailOptions = {\r\n      from: `\"Margadarsi Enquiry\" <${process.env.EMAIL_USER}>`,\r\n      to: to,\r\n      subject: subject,\r\n      html: htmlContent,\r\n    };\r\n\r\n    // Send email\r\n    await transporter.sendMail(mailOptions);\r\n\r\n    return NextResponse.json({ \r\n      success: true, \r\n      message: 'Email sent successfully' \r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Error sending email:', error);\r\n    return NextResponse.json(\r\n      { success: false, error: error.message },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;;;;;;;;AAGO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpD,qBAAqB;QACrB,MAAM,cAAc,WAAW,eAAe,CAAC;YAC7C,SAAS;YACT,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,cAAc;YAClC;QACF;QAEA,qBAAqB;QACrB,MAAM,cAAc,CAAC;;;;;;;;;;;;;;;;;;;+BAmBM,EAAE,IAAI,OAAO,cAAc,GAAG;;;;;mCAK1B,EAAE,SAAS,IAAI,CAAC;;;;mCAIhB,EAAE,SAAS,KAAK,CAAC;;;;mCAIjB,EAAE,SAAS,KAAK,CAAC;;;;mCAIjB,EAAE,SAAS,SAAS,CAAC;;;;mCAIrB,EAAE,SAAS,MAAM,CAAC;;;;mCAIlB,EAAE,SAAS,UAAU,CAAC;;;;mCAItB,EAAE,SAAS,aAAa,CAAC;;;;mCAIzB,EAAE,SAAS,KAAK,CAAC;;;;mCAIjB,EAAE,SAAS,MAAM,CAAC;;;;;mCAKlB,EAAE,SAAS,OAAO,IAAI,kCAAkC;;;;mCAIxD,EAAE,SAAS,OAAO,GAAG,QAAQ,KAAK;;;;;;IAMjE,CAAC;QAED,gBAAgB;QAChB,MAAM,cAAc;YAClB,MAAM,CAAC,sBAAsB,EAAE,QAAQ,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;YACxD,IAAI;YACJ,SAAS;YACT,MAAM;QACR;QAEA,aAAa;QACb,MAAM,YAAY,QAAQ,CAAC;QAE3B,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;QACX;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}