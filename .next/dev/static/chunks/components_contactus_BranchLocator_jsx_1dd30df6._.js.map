{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/coinplusweb/components/contactus/BranchLocator.jsx"],"sourcesContent":["// components/BranchLocator.js\r\n\"use client\";\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\n\r\n// Track if Google Maps script is already loaded globally\r\nlet googleMapsLoaded = false;\r\nlet googleMapsLoading = false;\r\nlet googleMapsLoadCallbacks = [];\r\n\r\n// Google Maps component\r\nconst BranchMap = ({ latitude, longitude, branchName, address }) => {\r\n  const mapRef = useRef(null);\r\n  const mapInstanceRef = useRef(null);\r\n  const markerRef = useRef(null);\r\n  const [mapReady, setMapReady] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!latitude || !longitude) return;\r\n\r\n    const initializeMap = () => {\r\n      // Check if Google Maps is loaded\r\n      if (!window.google || !window.google.maps) {\r\n        console.error('Google Maps not loaded');\r\n        return;\r\n      }\r\n\r\n      const mapOptions = {\r\n        center: { lat: parseFloat(latitude), lng: parseFloat(longitude) },\r\n        zoom: 15,\r\n        mapTypeControl: false,\r\n        streetViewControl: true,\r\n        fullscreenControl: true,\r\n        zoomControl: true,\r\n        mapTypeId: window.google.maps.MapTypeId.ROADMAP,\r\n        styles: [\r\n          {\r\n            \"featureType\": \"poi.business\",\r\n            \"stylers\": [{ \"visibility\": \"off\" }]\r\n          },\r\n          {\r\n            \"featureType\": \"transit\",\r\n            \"elementType\": \"labels.icon\",\r\n            \"stylers\": [{ \"visibility\": \"off\" }]\r\n          }\r\n        ]\r\n      };\r\n\r\n      // Create map\r\n      mapInstanceRef.current = new window.google.maps.Map(mapRef.current, mapOptions);\r\n\r\n      // Create marker\r\n      markerRef.current = new window.google.maps.Marker({\r\n        position: { lat: parseFloat(latitude), lng: parseFloat(longitude) },\r\n        map: mapInstanceRef.current,\r\n        title: branchName,\r\n        animation: window.google.maps.Animation.DROP,\r\n        icon: {\r\n          url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 40 40\">\r\n              <circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#2563eb\" opacity=\"0.9\"/>\r\n              <circle cx=\"20\" cy=\"20\" r=\"6\" fill=\"white\"/>\r\n              <circle cx=\"20\" cy=\"20\" r=\"3\" fill=\"#2563eb\"/>\r\n            </svg>\r\n          `),\r\n          scaledSize: new window.google.maps.Size(40, 40),\r\n          anchor: new window.google.maps.Point(20, 40)\r\n        }\r\n      });\r\n\r\n      // Add info window\r\n      const infoWindow = new window.google.maps.InfoWindow({\r\n        content: `\r\n          <div style=\"padding: 12px; max-width: 250px;\">\r\n            <h3 style=\"margin: 0 0 8px 0; color: #1e3a8a; font-weight: 600; font-size: 14px;\">${branchName}</h3>\r\n            <p style=\"margin: 0; color: #4b5563; font-size: 13px; line-height: 1.4;\">${address}</p>\r\n            <div style=\"margin-top: 8px; padding-top: 8px; border-top: 1px solid #e5e7eb;\">\r\n              <a href=\"https://www.google.com/maps?q=${latitude},${longitude}\" \r\n                 target=\"_blank\" \r\n                 style=\"color: #2563eb; text-decoration: none; font-size: 13px; font-weight: 500;\">\r\n                Open in Google Maps ‚Üí\r\n              </a>\r\n            </div>\r\n          </div>\r\n        `,\r\n      });\r\n\r\n      // Open info window by default\r\n      infoWindow.open(mapInstanceRef.current, markerRef.current);\r\n      setMapReady(true);\r\n    };\r\n\r\n    // Function to load Google Maps script\r\n    const loadGoogleMaps = () => {\r\n      return new Promise((resolve, reject) => {\r\n        if (googleMapsLoaded) {\r\n          resolve();\r\n          return;\r\n        }\r\n\r\n        if (window.google && window.google.maps) {\r\n          googleMapsLoaded = true;\r\n          resolve();\r\n          return;\r\n        }\r\n\r\n        // Add to callbacks if already loading\r\n        if (googleMapsLoading) {\r\n          googleMapsLoadCallbacks.push(resolve);\r\n          return;\r\n        }\r\n\r\n        googleMapsLoading = true;\r\n\r\n        const script = document.createElement('script');\r\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}`;\r\n        script.async = true;\r\n        script.defer = true;\r\n        \r\n        script.onload = () => {\r\n          googleMapsLoaded = true;\r\n          googleMapsLoading = false;\r\n          resolve();\r\n          // Resolve all waiting callbacks\r\n          googleMapsLoadCallbacks.forEach(cb => cb());\r\n          googleMapsLoadCallbacks = [];\r\n        };\r\n        \r\n        script.onerror = (error) => {\r\n          googleMapsLoading = false;\r\n          reject(error);\r\n        };\r\n\r\n        document.head.appendChild(script);\r\n      });\r\n    };\r\n\r\n    // Load and initialize\r\n    loadGoogleMaps()\r\n      .then(() => {\r\n        if (mapRef.current) {\r\n          initializeMap();\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Failed to load Google Maps:', error);\r\n      });\r\n\r\n    // Cleanup\r\n    return () => {\r\n      if (markerRef.current) {\r\n        markerRef.current.setMap(null);\r\n      }\r\n      if (mapInstanceRef.current) {\r\n        // No explicit destroy needed\r\n      }\r\n    };\r\n  }, [latitude, longitude, branchName, address]);\r\n\r\n  if (!latitude || !longitude) {\r\n    return (\r\n      <div className=\"bg-gray-100 h-48 rounded-lg flex flex-col items-center justify-center\">\r\n        <div className=\"text-gray-400 mb-2\">üìç</div>\r\n        <p className=\"text-gray-500 text-sm\">No location coordinates available</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const googleMapsUrl = `https://www.google.com/maps?q=${latitude},${longitude}`;\r\n  const directionsUrl = `https://www.google.com/maps/dir/?api=1&destination=${latitude},${longitude}`;\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <div\r\n        ref={mapRef}\r\n        className=\"w-full h-48 rounded-lg overflow-hidden border border-gray-300\"\r\n      />\r\n      {!mapReady && (\r\n        <div className=\"absolute inset-0 bg-gray-100 flex items-center justify-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n        </div>\r\n      )}\r\n      <div className=\"absolute bottom-2 right-2 flex gap-1\">\r\n        <a\r\n          href={directionsUrl}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"bg-white p-1.5 rounded shadow-sm hover:shadow transition-shadow\"\r\n          title=\"Get Directions\"\r\n        >\r\n          <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n          </svg>\r\n        </a>\r\n        <a\r\n          href={googleMapsUrl}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"bg-white p-1.5 rounded shadow-sm hover:shadow transition-shadow\"\r\n          title=\"Open in Google Maps\"\r\n        >\r\n          <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Simple static map fallback (no JavaScript required)\r\nconst SimpleStaticMap = ({ latitude, longitude, branchName }) => {\r\n  if (!latitude || !longitude) {\r\n    return (\r\n      <div className=\"bg-gray-100 h-48 rounded-lg flex flex-col items-center justify-center\">\r\n        <div className=\"text-gray-400 mb-2\">üìç</div>\r\n        <p className=\"text-gray-500 text-sm\">No location coordinates available</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const staticMapUrl = `https://maps.googleapis.com/maps/api/staticmap?center=${latitude},${longitude}&zoom=15&size=600x300&markers=color:blue%7C${latitude},${longitude}&key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}`;\r\n  const googleMapsUrl = `https://www.google.com/maps?q=${latitude},${longitude}`;\r\n\r\n  return (\r\n    <div className=\"relative group\">\r\n      <a\r\n        href={googleMapsUrl}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"block\"\r\n      >\r\n        <img\r\n          src={staticMapUrl}\r\n          alt={`${branchName} location`}\r\n          className=\"w-full h-48 rounded-lg object-cover border border-gray-300\"\r\n          onError={(e) => {\r\n            e.target.onerror = null;\r\n            e.target.src = `https://maps.googleapis.com/maps/api/staticmap?center=${latitude},${longitude}&zoom=15&size=600x300&markers=color:blue%7C${latitude},${longitude}`;\r\n          }}\r\n        />\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent rounded-lg group-hover:from-black/20 transition-all\" />\r\n        <div className=\"absolute bottom-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs\">\r\n          Click to open in Google Maps\r\n        </div>\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Alternative: Load script at page level instead of component level\r\nexport const loadGoogleMapsScript = () => {\r\n  if (typeof window === 'undefined') return Promise.resolve();\r\n  \r\n  return new Promise((resolve, reject) => {\r\n    if (googleMapsLoaded) {\r\n      resolve();\r\n      return;\r\n    }\r\n\r\n    if (window.google && window.google.maps) {\r\n      googleMapsLoaded = true;\r\n      resolve();\r\n      return;\r\n    }\r\n\r\n    if (googleMapsLoading) {\r\n      googleMapsLoadCallbacks.push(resolve);\r\n      return;\r\n    }\r\n\r\n    googleMapsLoading = true;\r\n\r\n    const script = document.createElement('script');\r\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}`;\r\n    script.async = true;\r\n    script.defer = true;\r\n    \r\n    script.onload = () => {\r\n      googleMapsLoaded = true;\r\n      googleMapsLoading = false;\r\n      resolve();\r\n      googleMapsLoadCallbacks.forEach(cb => cb());\r\n      googleMapsLoadCallbacks = [];\r\n    };\r\n    \r\n    script.onerror = reject;\r\n\r\n    document.head.appendChild(script);\r\n  });\r\n};\r\n\r\n// Main BranchLocator component\r\nconst BranchLocator = () => {\r\n   const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n\r\n  const urlState = searchParams.get('state');\r\n  const urlBranchName = searchParams.get('branch');\r\n  const urlBranchId = searchParams.get('branchId');\r\n\r\n  console.log(\"url state\",urlState, urlBranchName, urlBranchId)\r\n\r\n  const [branchData, setBranchData] = useState({});\r\n  const [selectedState, setSelectedState] = useState(urlState ||'');\r\n  const [selectedBranch, setSelectedBranch] = useState(urlBranchName || null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [useInteractiveMap, setUseInteractiveMap] = useState(true);\r\n  const [mapsScriptLoaded, setMapsScriptLoaded] = useState(false);\r\n\r\n  console.log(\"selected state and branch===>\",selectedState, selectedBranch)\r\n\r\n  // Pre-load Google Maps script when component mounts\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      loadGoogleMapsScript().then(() => {\r\n        setMapsScriptLoaded(true);\r\n      }).catch(console.error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n  const fetchBranches = async () => {\r\n    try {\r\n      const response = await fetch('/api/admin/branches');\r\n      const data = await response.json();\r\n\r\n      const groupedData = data.reduce((acc, branch) => {\r\n        if (!acc[branch.state]) {\r\n          acc[branch.state] = [];\r\n        }\r\n        acc[branch.state].push(branch);\r\n        return acc;\r\n      }, {});\r\n\r\n      setBranchData(groupedData);\r\n\r\n      // ‚úÖ CASE 1: URL params exist ‚Üí respect them\r\n      if (urlState && groupedData[urlState]) {\r\n        setSelectedState(urlState);\r\n\r\n        // Find branch by name OR id\r\n        const matchedBranch =\r\n          groupedData[urlState].find(\r\n            (b) =>\r\n              b.name === urlBranchName ||\r\n              String(b.id) === String(urlBranchId)\r\n          );\r\n\r\n        if (matchedBranch) {\r\n          setSelectedBranch(matchedBranch);\r\n        } else {\r\n          // fallback to first branch of that state\r\n          setSelectedBranch(groupedData[urlState][0]);\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      // ‚úÖ CASE 2: No params ‚Üí set defaults\r\n      const firstState = Object.keys(groupedData)[0];\r\n      if (firstState) {\r\n        setSelectedState(firstState);\r\n        setSelectedBranch(groupedData[firstState][0]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching branches:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  fetchBranches();\r\n}, [urlState, urlBranchName, urlBranchId]);\r\n\r\n  const handleStateSelect = (state) => {\r\n    setSelectedState(state);\r\n    if (branchData[state] && branchData[state].length > 0) {\r\n      setSelectedBranch(branchData[state][0]);\r\n    }\r\n  };\r\n\r\n  const handleBranchSelect = (branch) => {\r\n    setSelectedBranch(branch);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"w-full mx-auto p-8 text-center\">\r\n        <div className=\"text-lg\">Loading branches...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (Object.keys(branchData).length === 0) {\r\n    return (\r\n      <div className=\"w-full mx-auto p-8 text-center\">\r\n        <div className=\"text-lg text-gray-500\">No branches found</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full mx-auto p-4 md:p-6 lg:p-8 font-sans\">\r\n      <h1 className=\"text-lg md:text-xl font-bold text-primary mb-8\">Branches</h1>\r\n\r\n      <div className=\"flex flex-col lg:flex-row gap-6\">\r\n        <div className=\"lg:w-1/4\">\r\n          <h2 className=\"text-md md:text-lg font-semibold text-gray-700 mb-4\">Select State</h2>\r\n          <div className=\"flex flex-wrap lg:flex-col text-sm gap-2\">\r\n            {Object.keys(branchData).map((state) => (\r\n              <button\r\n                key={state}\r\n                onClick={() => handleStateSelect(state)}\r\n                className={`px-4 py-3 rounded-lg text-left transition-colors ${\r\n                  selectedState === state\r\n                    ? 'bg-primary text-white font-semibold'\r\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                }`}\r\n              >\r\n                {state}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"lg:w-1/3\">\r\n          <h2 className=\"text-md md:text-lg font-semibold text-gray-700 mb-4\">\r\n            Branches in {selectedState}\r\n          </h2>\r\n          <div className=\"space-y-2 text-sm\">\r\n            {branchData[selectedState]?.map((branch) => (\r\n              <button\r\n                key={branch.id}\r\n                onClick={() => handleBranchSelect(branch)}\r\n                className={`w-full text-left px-4 py-3 rounded-lg transition-colors ${\r\n                  selectedBranch?.id === branch.id\r\n                    ? 'bg-primary/20 border-l-4 border-primary'\r\n                    : 'bg-gray-50 hover:bg-gray-100'\r\n                }`}\r\n              >\r\n                <span className=\"font-medium text-gray-800\">{branch.name}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"lg:w-2/4\">\r\n          <h2 className=\"text-md md:text-lg font-semibold text-gray-700 mb-4\">Branch Details</h2>\r\n          {selectedBranch ? (\r\n            <div className=\"bg-white p-6 rounded-xl border border-gray-300 shadow-sm\">\r\n              <h3 className=\"text-lg md:text-xl font-bold text-primary mb-4\">\r\n                {selectedBranch.name}\r\n              </h3>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <h4 className=\"font-semibold text-gray-700 mb-2\">Address</h4>\r\n                  <p className=\"text-gray-600 text-sm\">\r\n                    {selectedBranch.address},<br />\r\n                    {selectedBranch.city}, {selectedBranch.state}\r\n                  </p>\r\n                  <p className=\"text-gray-600 mt-1\">\r\n                    <span className=\"font-medium text-sm\">Pin:</span> {selectedBranch.pincode}\r\n                  </p>\r\n                </div>\r\n\r\n                <div>\r\n                  <h4 className=\"font-semibold text-gray-700 text-sm mb-2\">Contact Information</h4>\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <p className=\"text-gray-600\">\r\n                      <span className=\"font-medium\">Email:</span>{' '}\r\n                      <a\r\n                        href={`mailto:${selectedBranch.email}`}\r\n                        className=\"text-primary/50 hover:text-primary hover:underline transition-colors\"\r\n                      >\r\n                        {selectedBranch.email}\r\n                      </a>\r\n                    </p>\r\n                    <p className=\"text-gray-600\">\r\n                      <span className=\"font-medium\">Phone 1:</span>{' '}\r\n                      <a\r\n                        href={`tel:${selectedBranch.phone1}`}\r\n                        className=\"text-primary/50 hover:text-primary hover:underline transition-colors\"\r\n                      >\r\n                        {selectedBranch.phone1}\r\n                      </a>\r\n                    </p>\r\n                    {selectedBranch.phone2 && (\r\n                      <p className=\"text-gray-600\">\r\n                        <span className=\"font-medium\">Phone 2:</span>{' '}\r\n                        <a\r\n                          href={`tel:${selectedBranch.phone2}`}\r\n                          className=\"text-primary/60 hover:text-primary hover:underline transition-colors\"\r\n                        >\r\n                          {selectedBranch.phone2}\r\n                        </a>\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Map Section */}\r\n                <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <h4 className=\"font-semibold text-gray-700\">Location</h4>\r\n                    {selectedBranch.latitude && selectedBranch.longitude && (\r\n                      <button\r\n                        onClick={() => setUseInteractiveMap(!useInteractiveMap)}\r\n                        className=\"text-xs text-primary hover:text-primary-dark\"\r\n                      >\r\n                        {useInteractiveMap ? 'Switch to Static Map' : 'Switch to Interactive Map'}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  {selectedBranch.latitude && selectedBranch.longitude ? (\r\n                    useInteractiveMap ? (\r\n                      <BranchMap\r\n                        latitude={selectedBranch.latitude}\r\n                        longitude={selectedBranch.longitude}\r\n                        branchName={selectedBranch.name}\r\n                        address={`${selectedBranch.address}, ${selectedBranch.city}`}\r\n                      />\r\n                    ) : (\r\n                      <SimpleStaticMap\r\n                        latitude={selectedBranch.latitude}\r\n                        longitude={selectedBranch.longitude}\r\n                        branchName={selectedBranch.name}\r\n                      />\r\n                    )\r\n                  ) : (\r\n                    <div className=\"bg-gray-100 h-48 rounded-lg flex flex-col items-center justify-center\">\r\n                      <div className=\"text-gray-400 mb-2\">üìç</div>\r\n                      <p className=\"text-gray-500 text-sm\">No location coordinates available</p>\r\n                      <p className=\"text-xs text-gray-400 mt-1\">\r\n                        Latitude/Longitude not provided for this branch\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {selectedBranch.latitude && selectedBranch.longitude && (\r\n                    <div className=\"mt-2 text-xs text-gray-500 flex justify-between\">\r\n                      <span>Coordinates: {selectedBranch.latitude}, {selectedBranch.longitude}</span>\r\n                      <a\r\n                        href={`https://www.google.com/maps?q=${selectedBranch.latitude},${selectedBranch.longitude}`}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"text-primary hover:underline\"\r\n                      >\r\n                        Open in new tab ‚Üí\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-gray-50 p-8 rounded-xl border border-gray-300 text-center\">\r\n              <p className=\"text-gray-500\">Select a branch to view details</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BranchLocator;"],"names":[],"mappings":"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"}}]
}