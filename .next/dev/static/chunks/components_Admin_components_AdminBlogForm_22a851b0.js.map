{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/coinplusweb/components/Admin/components/AdminBlogForm.js"],"sourcesContent":["// components/Admin/components/AdminBlogForm.js\r\n\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\n\r\nexport default function AdminBlogForm({ blog = null, onSuccess, onCancel }) {\r\n  const isEditMode = !!blog;\r\n  \r\n  const [formData, setFormData] = useState({\r\n    title: blog?.title || '',\r\n    description: blog?.description || '',\r\n    imageUrl: blog?.imageUrl || ''\r\n  });\r\n  \r\n  const [uploading, setUploading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n  const [success, setSuccess] = useState('');\r\n  const [imagePreview, setImagePreview] = useState('');\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n  const textareaRef = useRef(null);\r\n\r\n  // Handle image upload (same as before)\r\n  const handleImageUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Clear previous errors\r\n    setErrors(prev => ({ ...prev, imageUrl: '' }));\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      setErrors(prev => ({ ...prev, imageUrl: 'Please select an image file (JPEG, PNG, GIF, etc.)' }));\r\n      return;\r\n    }\r\n    \r\n    // Validate file size (5MB limit)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      setErrors(prev => ({ ...prev, imageUrl: 'Image size should be less than 5MB' }));\r\n      return;\r\n    }\r\n\r\n    // Create preview\r\n    const previewUrl = URL.createObjectURL(file);\r\n    setImagePreview(previewUrl);\r\n\r\n    setUploading(true);\r\n    const data = new FormData();\r\n    data.append(\"file\", file);\r\n    data.append(\"upload_preset\", process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET);\r\n\r\n    try {\r\n      const cloudName = 'ddsim4ixm'; // Your cloud name\r\n      const res = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME}/image/upload`,\r\n        { \r\n          method: \"POST\", \r\n          body: data \r\n        }\r\n      );\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(`Upload failed with status: ${res.status}`);\r\n      }\r\n      \r\n      const result = await res.json();\r\n      \r\n      if (!result.secure_url) {\r\n        throw new Error('No secure URL returned from Cloudinary');\r\n      }\r\n      \r\n      setFormData({ \r\n        ...formData, \r\n        imageUrl: result.secure_url\r\n      });\r\n      \r\n      setSuccess('âœ“ Image uploaded successfully');\r\n      setTimeout(() => setSuccess(''), 2000);\r\n      \r\n    } catch (err) {\r\n      console.error(\"Upload failed:\", err);\r\n      setErrors(prev => ({ \r\n        ...prev, \r\n        imageUrl: err.message || 'Image upload failed. Please try again.' \r\n      }));\r\n      setImagePreview('');\r\n      setFormData(prev => ({ ...prev, imageUrl: '' }));\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  // Formatting helper functions for the textarea\r\n  const insertFormatting = (format) => {\r\n    if (!textareaRef.current) return;\r\n    \r\n    const textarea = textareaRef.current;\r\n    const start = textarea.selectionStart;\r\n    const end = textarea.selectionEnd;\r\n    const text = textarea.value;\r\n    const selectedText = text.substring(start, end);\r\n    \r\n    let newText;\r\n    let newCursorPos;\r\n    \r\n    switch(format) {\r\n      case 'bold':\r\n        newText = text.substring(0, start) + '**' + selectedText + '**' + text.substring(end);\r\n        newCursorPos = end + 4;\r\n        break;\r\n      case 'italic':\r\n        newText = text.substring(0, start) + '*' + selectedText + '*' + text.substring(end);\r\n        newCursorPos = end + 2;\r\n        break;\r\n      case 'bullet':\r\n        if (selectedText.includes('\\n')) {\r\n          // Add bullet points to each line\r\n          const lines = selectedText.split('\\n');\r\n          const bulletedLines = lines.map(line => line.trim() ? `â€¢ ${line}` : '').join('\\n');\r\n          newText = text.substring(0, start) + bulletedLines + text.substring(end);\r\n          newCursorPos = end + (bulletedLines.length - selectedText.length);\r\n        } else {\r\n          newText = text.substring(0, start) + 'â€¢ ' + selectedText + text.substring(end);\r\n          newCursorPos = end + 2;\r\n        }\r\n        break;\r\n      case 'number':\r\n        if (selectedText.includes('\\n')) {\r\n          const lines = selectedText.split('\\n');\r\n          const numberedLines = lines.map((line, index) => line.trim() ? `${index + 1}. ${line}` : '').join('\\n');\r\n          newText = text.substring(0, start) + numberedLines + text.substring(end);\r\n          newCursorPos = end + (numberedLines.length - selectedText.length);\r\n        } else {\r\n          newText = text.substring(0, start) + '1. ' + selectedText + text.substring(end);\r\n          newCursorPos = end + 3;\r\n        }\r\n        break;\r\n      case 'link':\r\n        const url = prompt('Enter URL:');\r\n        if (url) {\r\n          newText = text.substring(0, start) + `[${selectedText || 'link'}](${url})` + text.substring(end);\r\n          newCursorPos = end + (selectedText ? 0 : 4) + url.length + 3;\r\n        }\r\n        return;\r\n      default:\r\n        return;\r\n    }\r\n    \r\n    setFormData(prev => ({ ...prev, description: newText }));\r\n    \r\n    // Restore cursor position after state update\r\n    setTimeout(() => {\r\n      if (textareaRef.current) {\r\n        textareaRef.current.focus();\r\n        textareaRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    if (!formData.title.trim()) {\r\n      newErrors.title = 'Title is required';\r\n    } else if (formData.title.length < 3) {\r\n      newErrors.title = 'Title must be at least 3 characters';\r\n    }\r\n    \r\n    if (!formData.description.trim()) {\r\n      newErrors.description = 'Description is required';\r\n    } else if (formData.description.length < 50) {\r\n      newErrors.description = 'Description must be at least 50 characters';\r\n    }\r\n    \r\n    if (!formData.imageUrl) {\r\n      newErrors.imageUrl = 'Please upload an image';\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    \r\n    setSaving(true);\r\n    \r\n    try {\r\n      const url = isEditMode ? `/api/admin/blog/${blog.id}` : '/api/admin/blog';\r\n      const method = isEditMode ? 'PUT' : 'POST';\r\n      \r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      let data;\r\n      try {\r\n        data = await response.json();\r\n      } catch (jsonError) {\r\n        console.error('JSON parse error:', jsonError);\r\n        throw new Error('Server returned invalid response. Please try again.');\r\n      }\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || `Failed to ${isEditMode ? 'update' : 'save'} blog (Status: ${response.status})`);\r\n      }\r\n      \r\n      // Success\r\n      const successMessage = isEditMode ? 'Blog updated successfully!' : 'Blog created successfully!';\r\n      setSuccess(successMessage);\r\n      \r\n      // Reset form if not in edit mode\r\n      if (!isEditMode) {\r\n        setFormData({\r\n          title: '',\r\n          description: '',\r\n          imageUrl: ''\r\n        });\r\n        setImagePreview('');\r\n        if (fileInputRef.current) {\r\n          fileInputRef.current.value = '';\r\n        }\r\n      }\r\n      \r\n      // Call success callback if provided\r\n      if (onSuccess) {\r\n        setTimeout(() => {\r\n          onSuccess(data.data);\r\n        }, 1000);\r\n      }\r\n      \r\n      // Clear success message after 3 seconds\r\n      setTimeout(() => {\r\n        setSuccess('');\r\n      }, 3000);\r\n      \r\n    } catch (err) {\r\n      console.error('Save failed:', err);\r\n      setErrors(prev => ({ \r\n        ...prev, \r\n        form: err.message || `Failed to ${isEditMode ? 'update' : 'save'} blog. Please try again.` \r\n      }));\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    \r\n    // Clear error for this field when user starts typing\r\n    if (errors[name]) {\r\n      setErrors(prev => ({ ...prev, [name]: '' }));\r\n    }\r\n  };\r\n\r\n  const handleRemoveImage = () => {\r\n    setFormData(prev => ({ ...prev, imageUrl: '' }));\r\n    setImagePreview('');\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n    setErrors(prev => ({ ...prev, imageUrl: '' }));\r\n  };\r\n\r\n  // Preview rendering function\r\n  const renderPreview = () => {\r\n    const formatText = (text) => {\r\n      // Convert markdown-like formatting to HTML\r\n      let formatted = text\r\n        // Convert line breaks to <br> for preview\r\n        .replace(/\\n/g, '<br>')\r\n        // Convert paragraphs (double line breaks)\r\n        .replace(/<br><br>/g, '</p><p>')\r\n        // Convert bold **text** to <strong>\r\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\r\n        // Convert italic *text* to <em>\r\n        .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\r\n        // Convert bullet points â€¢ to list items\r\n        .replace(/â€¢\\s*(.*?)(?=<br>|$)/g, '<li>$1</li>')\r\n        // Convert numbered lists 1. to list items\r\n        .replace(/(\\d+)\\.\\s*(.*?)(?=<br>|$)/g, '<li>$2</li>')\r\n        // Convert links [text](url) to <a>\r\n        .replace(/\\[(.*?)\\]\\((.*?)\\)/g, '<a href=\"$2\" class=\"text-blue-600 hover:underline\">$1</a>');\r\n\r\n      // Wrap in paragraph tags\r\n      return `<p>${formatted}</p>`;\r\n    };\r\n\r\n    return (\r\n      <div className=\"prose prose-lg max-w-none\">\r\n        <div \r\n          className=\"text-gray-700 whitespace-pre-wrap\"\r\n          dangerouslySetInnerHTML={{ __html: formatText(formData.description) }}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md\">\r\n      <h2 className=\"text-2xl font-bold mb-6 text-gray-800\">\r\n        {isEditMode ? 'Edit Blog Post' : 'Create New Blog Post'}\r\n      </h2>\r\n      \r\n      {success && (\r\n        <div className=\"mb-4 p-3 bg-green-100 text-green-700 rounded-md\">\r\n          {success}\r\n        </div>\r\n      )}\r\n      \r\n      {errors.form && (\r\n        <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-md\">\r\n          {errors.form}\r\n        </div>\r\n      )}\r\n      \r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Title Field */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Blog Title *\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={formData.title}\r\n            onChange={handleChange}\r\n            className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\r\n              errors.title ? 'border-red-500' : 'border-gray-300'\r\n            }`}\r\n            placeholder=\"Enter blog title\"\r\n          />\r\n          {errors.title && (\r\n            <p className=\"mt-1 text-sm text-red-600\">{errors.title}</p>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Image Upload Section */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Featured Image *\r\n          </label>\r\n          \r\n          <div className=\"space-y-3\">\r\n            {/* Image Preview */}\r\n            {(imagePreview || formData.imageUrl) ? (\r\n              <div className=\"relative\">\r\n                <div className=\"w-full max-w-md border-2 border-dashed border-gray-300 rounded-lg overflow-hidden\">\r\n                  <img\r\n                    src={imagePreview || formData.imageUrl}\r\n                    alt=\"Preview\"\r\n                    className=\"w-full h-64 object-contain\"\r\n                  />\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleRemoveImage}\r\n                  className=\"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600\"\r\n                >\r\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center\">\r\n                <svg className=\"mx-auto h-12 w-12 text-gray-400\" stroke=\"currentColor\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n                  <path d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                </svg>\r\n                <p className=\"mt-2 text-sm text-gray-600\">\r\n                  Upload a featured image\r\n                </p>\r\n                <p className=\"text-xs text-gray-500\">\r\n                  PNG, JPG, GIF up to 5MB\r\n                </p>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Upload Button */}\r\n            <div>\r\n              <label className=\"block\">\r\n                <span className=\"sr-only\">Choose image</span>\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  className=\"block w-full text-sm text-gray-500\r\n                    file:mr-4 file:py-2 file:px-4\r\n                    file:rounded-md file:border-0\r\n                    file:text-sm file:font-semibold\r\n                    file:bg-blue-50 file:text-blue-700\r\n                    hover:file:bg-blue-100\r\n                    cursor-pointer\"\r\n                />\r\n              </label>\r\n              {uploading && (\r\n                <div className=\"mt-2\">\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                    <div className=\"bg-blue-600 h-2.5 rounded-full animate-pulse w-1/2\"></div>\r\n                  </div>\r\n                  <p className=\"mt-1 text-sm text-blue-600\">Uploading image...</p>\r\n                </div>\r\n              )}\r\n              {errors.imageUrl && (\r\n                <p className=\"mt-2 text-sm text-red-600\">{errors.imageUrl}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Description Field with Formatting Tools */}\r\n        <div>\r\n          <div className=\"flex justify-between items-center mb-1\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">\r\n              Blog Content *\r\n            </label>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPreview(!showPreview)}\r\n              className=\"text-sm text-blue-600 hover:text-blue-800\"\r\n            >\r\n              {showPreview ? 'Show Editor' : 'Show Preview'}\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Formatting Toolbar */}\r\n          <div className=\"flex flex-wrap gap-2 mb-2 p-2 bg-gray-50 rounded-md border border-gray-200\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => insertFormatting('bold')}\r\n              className=\"px-3 py-1.5 text-sm font-bold bg-white border border-gray-300 rounded hover:bg-gray-50\"\r\n              title=\"Bold (Ctrl+B)\"\r\n            >\r\n              <strong>B</strong>\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => insertFormatting('italic')}\r\n              className=\"px-3 py-1.5 text-sm italic bg-white border border-gray-300 rounded hover:bg-gray-50\"\r\n              title=\"Italic (Ctrl+I)\"\r\n            >\r\n              <em>I</em>\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => insertFormatting('bullet')}\r\n              className=\"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50 flex items-center\"\r\n              title=\"Bullet List\"\r\n            >\r\n              <span className=\"mr-1\">â€¢</span> List\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => insertFormatting('number')}\r\n              className=\"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50\"\r\n              title=\"Numbered List\"\r\n            >\r\n              1. List\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => insertFormatting('link')}\r\n              className=\"px-3 py-1.5 text-sm bg-white border border-gray-300 rounded hover:bg-gray-50\"\r\n              title=\"Insert Link\"\r\n            >\r\n              ðŸ”— Link\r\n            </button>\r\n            <div className=\"text-xs text-gray-500 ml-auto flex items-center\">\r\n              <span>Press Enter for new paragraph, Shift+Enter for line break</span>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Formatting Help */}\r\n          <div className=\"text-xs text-gray-500 mb-2 p-2 bg-blue-50 rounded\">\r\n            <div className=\"grid grid-cols-2 gap-2\">\r\n              <div><strong>Bold:</strong> **text**</div>\r\n              <div><em>Italic:</em> *text*</div>\r\n              <div>Bullet: â€¢ item</div>\r\n              <div>Numbered: 1. item</div>\r\n              <div>Link: [text](url)</div>\r\n              <div>Line break: Press Enter</div>\r\n            </div>\r\n          </div>\r\n          \r\n          {showPreview ? (\r\n            // Preview Panel\r\n            <div className={`border rounded-md p-4 min-h-[200px] bg-gray-50 ${\r\n              errors.description ? 'border-red-500' : 'border-gray-300'\r\n            }`}>\r\n              {formData.description ? (\r\n                renderPreview()\r\n              ) : (\r\n                <p className=\"text-gray-400 italic\">Preview will appear here...</p>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            // Text Editor\r\n            <textarea\r\n              ref={textareaRef}\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              rows=\"15\"\r\n              className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm ${\r\n                errors.description ? 'border-red-500' : 'border-gray-300'\r\n              }`}\r\n              placeholder=\"Write your blog content here...\r\n              \r\nUse **bold** for important text\r\nUse *italic* for emphasis\r\nUse â€¢ for bullet points\r\nUse 1. for numbered lists\r\nPress Enter for new paragraphs\r\n              \r\nExample:\r\n**Introduction**\r\nThis is a sample blog post.\r\n\r\nâ€¢ First point\r\nâ€¢ Second point\r\nâ€¢ Third point\r\n\r\n1. Step one\r\n2. Step two\r\n3. Step three\"\r\n            />\r\n          )}\r\n          \r\n          {errors.description && (\r\n            <p className=\"mt-1 text-sm text-red-600\">{errors.description}</p>\r\n          )}\r\n          <div className=\"mt-1 flex justify-between text-sm\">\r\n            <span className={`${formData.description.length < 50 ? 'text-red-500' : 'text-gray-500'}`}>\r\n              Minimum 50 characters required\r\n            </span>\r\n            <span className={`${\r\n              formData.description.length >= 50 ? 'text-green-500' : 'text-gray-500'\r\n            }`}>\r\n              {formData.description.length} characters\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Action Buttons */}\r\n        <div className=\"pt-4 flex justify-end space-x-3\">\r\n          {onCancel && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={onCancel}\r\n              disabled={uploading || saving}\r\n              className=\"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          )}\r\n          \r\n          <button\r\n            type=\"submit\"\r\n            disabled={uploading || saving}\r\n            className={`px-5 py-2.5 rounded-md font-medium text-white flex items-center ${\r\n              uploading || saving\r\n                ? 'bg-gray-400 cursor-not-allowed'\r\n                : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2'\r\n            }`}\r\n          >\r\n            {saving ? (\r\n              <>\r\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"/>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"/>\r\n                </svg>\r\n                {isEditMode ? 'Updating...' : 'Publishing...'}\r\n              </>\r\n            ) : uploading ? (\r\n              'Uploading Image...'\r\n            ) : (\r\n              isEditMode ? 'Update Blog Post' : 'Publish Blog Post'\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}