(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12447,(e,t,r)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},236,(e,t,r)=>{t.exports=e.g&&e.g.Object===Object&&e.g},39088,(e,t,r)=>{var s=e.r(236),a="object"==typeof self&&self&&self.Object===Object&&self;t.exports=s||a||Function("return this")()},31926,(e,t,r)=>{var s=e.r(39088);t.exports=function(){return s.Date.now()}},48891,(e,t,r)=>{var s=/\s/;t.exports=function(e){for(var t=e.length;t--&&s.test(e.charAt(t)););return t}},30364,(e,t,r)=>{var s=e.r(48891),a=/^\s+/;t.exports=function(e){return e?e.slice(0,s(e)+1).replace(a,""):e}},30353,(e,t,r)=>{t.exports=e.r(39088).Symbol},43436,(e,t,r)=>{var s=e.r(30353),a=Object.prototype,l=a.hasOwnProperty,n=a.toString,i=s?s.toStringTag:void 0;t.exports=function(e){var t=l.call(e,i),r=e[i];try{e[i]=void 0;var s=!0}catch(e){}var a=n.call(e);return s&&(t?e[i]=r:delete e[i]),a}},23243,(e,t,r)=>{var s=Object.prototype.toString;t.exports=function(e){return s.call(e)}},77684,(e,t,r)=>{var s=e.r(30353),a=e.r(43436),l=e.r(23243),n=s?s.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?a(e):l(e)}},77289,(e,t,r)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},61884,(e,t,r)=>{var s=e.r(77684),a=e.r(77289);t.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==s(e)}},73759,(e,t,r)=>{var s=e.r(30364),a=e.r(12447),l=e.r(61884),n=0/0,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(l(e))return n;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var r=o.test(e);return r||c.test(e)?d(e.slice(2),r?2:8):i.test(e)?n:+e}},74009,(e,t,r)=>{var s=e.r(12447),a=e.r(31926),l=e.r(73759),n=Math.max,i=Math.min;t.exports=function(e,t,r){var o,c,d,x,u,h,m=0,p=!1,g=!1,b=!0;if("function"!=typeof e)throw TypeError("Expected a function");function f(t){var r=o,s=c;return o=c=void 0,m=t,x=e.apply(s,r)}function j(e){var r=e-h,s=e-m;return void 0===h||r>=t||r<0||g&&s>=d}function y(){var e,r,s,l=a();if(j(l))return v(l);u=setTimeout(y,(e=l-h,r=l-m,s=t-e,g?i(s,d-r):s))}function v(e){return(u=void 0,b&&o)?f(e):(o=c=void 0,x)}function N(){var e,r=a(),s=j(r);if(o=arguments,c=this,h=r,s){if(void 0===u)return m=e=h,u=setTimeout(y,t),p?f(e):x;if(g)return clearTimeout(u),u=setTimeout(y,t),f(h)}return void 0===u&&(u=setTimeout(y,t)),x}return t=l(t)||0,s(r)&&(p=!!r.leading,d=(g="maxWait"in r)?n(l(r.maxWait)||0,t):d,b="trailing"in r?!!r.trailing:b),N.cancel=function(){void 0!==u&&clearTimeout(u),m=0,o=h=c=u=void 0},N.flush=function(){return void 0===u?x:v(a())},N}},71934,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(74009);function l(){let e=(0,s.useRouter)(),[l,n]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[x,u]=(0,r.useState)(new Set),[h,m]=(0,r.useState)(null),[p,g]=(0,r.useState)(!1),[b,f]=(0,r.useState)(null),[j,y]=(0,r.useState)(!1),[v,N]=(0,r.useState)({page:1,limit:10,total:0,totalPages:1}),[w,k]=(0,r.useState)({state:"",branch:"",minValue:"",maxValue:"",search:"",sortBy:"created_at",sortOrder:"desc"}),[C,L]=(0,r.useState)({states:[],branches:[]}),S=(0,r.useCallback)(async()=>{o(!0);try{let e=new URLSearchParams({page:v.page,limit:v.limit,...w}).toString(),t=await fetch(`/api/chits?${e}`),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to fetch chits");n(r.data),N(r.pagination);let s=[...new Set(r.data.map(e=>e.state))].sort(),a=[...new Set(r.data.map(e=>e.branch))].sort();L({states:s,branches:a})}catch(e){d(e.message),A(`❌ ${e.message}`,"error")}finally{o(!1)}},[v.page,v.limit,w]),M=(0,r.useCallback)((0,a.default)(()=>S(),500),[S]);(0,r.useEffect)(()=>(M(),()=>M.cancel()),[M]),(0,r.useEffect)(()=>{_()},[]);let _=async()=>{try{let e=await fetch("/api/chits?limit=1000"),t=await e.json();if(e.ok){let e=t.data,r=[...new Set(e.map(e=>e.state))].sort(),s=[...new Set(e.map(e=>e.branch))].sort();L({states:r,branches:s})}}catch(e){console.error("Failed to fetch filter options:",e)}},T=(e,t)=>{k(r=>({...r,[e]:t,page:"search"===e?1:r.page}))},B=e=>{N(t=>({...t,page:e}))},D=e=>{k(t=>({...t,sortBy:e,sortOrder:t.sortBy===e&&"asc"===t.sortOrder?"desc":"asc"}))},O=async e=>{e.preventDefault();try{let e=await fetch(`/api/chits/${h.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to update chit");A("✅ Chit updated successfully!","success"),m(null),S()}catch(e){A(`❌ ${e.message}`,"error")}},$=async()=>{try{let e=await fetch(`/api/chits/${b.id}`,{method:"DELETE"}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to delete chit");A("✅ Chit deleted successfully!","success"),g(!1),f(null),S()}catch(e){A(`❌ ${e.message}`,"error")}},V=async()=>{if(confirm(`Are you sure you want to delete ${x.size} chits?`))try{let e=Array.from(x).map(e=>fetch(`/api/chits/${e}`,{method:"DELETE"}));await Promise.all(e),A(`✅ ${x.size} chits deleted successfully!`,"success"),u(new Set),S()}catch(e){A(`❌ Failed to delete chits: ${e.message}`,"error")}},A=(e,t)=>{let r=document.createElement("div");r.className=`fixed top-6 right-6 z-50 px-6 py-4 rounded-xl shadow-2xl flex items-center space-x-3 animate-slide-in ${"success"===t?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":"bg-gradient-to-r from-red-500 to-rose-600 text-white"}`,r.innerHTML=`
      <span class="text-xl">${"success"===t?"✅":"❌"}</span>
      <span>${e}</span>
    `,document.body.appendChild(r),setTimeout(()=>{r.classList.add("animate-slide-out"),setTimeout(()=>{document.body.removeChild(r)},300)},3e3)},E=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),z=e=>w.sortBy!==e?"↕️":"asc"===w.sortOrder?"⬆️":"⬇️";return(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 px-8 py-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Chit Management"}),(0,t.jsx)("p",{className:"text-blue-100 mt-1",children:"Manage and monitor all chit funds"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/admin/chits/create"),className:"px-4 py-2 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"New Chit"]}),(0,t.jsxs)("button",{onClick:()=>y(!j),className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filters"]})]})]})}),j&&(0,t.jsxs)("div",{className:"border-b border-gray-200 px-8 py-6 bg-gray-50",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:w.search,onChange:e=>T("search",e.target.value),placeholder:"Search by location or group...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("svg",{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,t.jsxs)("select",{value:w.state,onChange:e=>T("state",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"All States"}),C.states.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),(0,t.jsxs)("select",{value:w.branch,onChange:e=>T("branch",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"All Branches"}),C.branches.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Value"}),(0,t.jsx)("input",{type:"number",value:w.minValue,onChange:e=>T("minValue",e.target.value),placeholder:"Min",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Value"}),(0,t.jsx)("input",{type:"number",value:w.maxValue,onChange:e=>T("maxValue",e.target.value),placeholder:"Max",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsxs)("button",{onClick:()=>k({state:"",branch:"",minValue:"",maxValue:"",search:"",sortBy:"created_at",sortOrder:"desc"}),className:"px-4 py-2 text-gray-600 hover:text-gray-800 flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})})]}),x.size>0&&(0,t.jsx)("div",{className:"bg-blue-50 border-b border-blue-200 px-8 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("span",{className:"text-blue-700 font-medium",children:[x.size," chit",x.size>1?"s":""," selected"]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("button",{onClick:()=>{var e,t;let r,s,a;e=[["ID","Chit Value","Location","State","Branch","Phone 1","Phone 2","Monthly Contribution","Chit Group","Duration","Created At"],...l.filter(e=>x.has(e.id)).map(e=>[e.id,e.chit_value,e.location,e.state,e.branch,e.phone_number_1||"",e.phone_number_2||"",e.monthly_contribution||"",e.chit_group||"",e.duration_months||"",new Date(e.created_at).toLocaleDateString()])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),t=`chits_export_${new Date().toISOString().split("T")[0]}.csv`,r=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(r),(a=document.createElement("a")).href=s,a.download=t,a.click(),window.URL.revokeObjectURL(s)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 flex items-center text-sm",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Selected"]}),(0,t.jsxs)("button",{onClick:V,className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 flex items-center text-sm",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Selected"]})]})]})}),(0,t.jsx)("div",{className:"border-b border-gray-200 px-8 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Chits"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.total})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Value"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E(l.reduce((e,t)=>e+t.chit_value,0))})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Avg. Monthly Contribution"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E(l.reduce((e,t)=>e+(t.monthly_contribution||0),0)/(l.filter(e=>e.monthly_contribution).length||1))})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Avg. Duration"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(l.reduce((e,t)=>e+(t.duration_months||0),0)/(l.filter(e=>e.duration_months).length||1))," months"]})]})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:i?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading chits..."})]}):c?(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("p",{className:"text-red-600",children:c}),(0,t.jsx)("button",{onClick:S,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):0===l.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No chits found"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Try adjusting your filters or create a new chit"}),(0,t.jsx)("button",{onClick:()=>e.push("/admin/chits/create"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create New Chit"})]}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left",children:(0,t.jsx)("input",{type:"checkbox",checked:x.size===l.length&&l.length>0,onChange:()=>{x.size===l.length?u(new Set):u(new Set(l.map(e=>e.id)))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("id"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["ID ",z("id")]})}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("chit_value"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["Amount ",z("chit_value")]})}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("location"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["Location ",z("location")]})}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("state"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["State ",z("state")]})}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("branch"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["Branch ",z("branch")]})}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monthly"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D("created_at"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["Created ",z("created_at")]})}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:l.map(r=>(0,t.jsxs)("tr",{className:`hover:bg-gray-50 ${x.has(r.id)?"bg-blue-50":""}`,children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("input",{type:"checkbox",checked:x.has(r.id),onChange:()=>{var e;let t;return e=r.id,void((t=new Set(x)).has(e)?t.delete(e):t.add(e),u(t))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["#",r.id]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"font-bold text-gray-900",children:E(r.chit_value)})}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:r.location}),r.chit_group&&(0,t.jsx)("div",{className:"text-sm text-gray-500",children:r.chit_group})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:r.state})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:r.branch})}),(0,t.jsx)("td",{className:"px-6 py-4",children:r.monthly_contribution?(0,t.jsx)("span",{className:"text-green-600 font-medium",children:E(r.monthly_contribution)}):(0,t.jsx)("span",{className:"text-gray-400",children:"—"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:r.duration_months?(0,t.jsxs)("span",{className:"text-gray-600",children:[r.duration_months," months"]}):(0,t.jsx)("span",{className:"text-gray-400",children:"—"})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[new Date(r.created_at).toLocaleDateString(),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:new Date(r.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{m({...r})},className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("button",{onClick:()=>{f(r),g(!0)},className:"text-red-600 hover:text-red-800 p-1",title:"Delete",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,t.jsx)("button",{onClick:()=>e.push(`/admin/chits/${r.id}`),className:"text-gray-600 hover:text-gray-800 p-1",title:"View Details",children:(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})})]},r.id))})]})}),l.length>0&&(0,t.jsx)("div",{className:"border-t border-gray-200 px-8 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700 mb-4 md:mb-0",children:["Showing ",(0,t.jsx)("span",{className:"font-medium",children:(v.page-1)*v.limit+1})," to"," ",(0,t.jsx)("span",{className:"font-medium",children:Math.min(v.page*v.limit,v.total)})," ","of ",(0,t.jsx)("span",{className:"font-medium",children:v.total})," results"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>B(v.page-1),disabled:1===v.page,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:Math.min(5,v.totalPages)},(e,r)=>{let s;return s=v.totalPages<=5||v.page<=3?r+1:v.page>=v.totalPages-2?v.totalPages-4+r:v.page-2+r,(0,t.jsx)("button",{onClick:()=>B(s),className:`px-3 py-2 rounded-lg ${v.page===s?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:s},s)}),(0,t.jsx)("button",{onClick:()=>B(v.page+1),disabled:v.page===v.totalPages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]}),(0,t.jsx)("div",{className:"mt-4 md:mt-0",children:(0,t.jsxs)("select",{value:v.limit,onChange:e=>N(t=>({...t,limit:parseInt(e.target.value),page:1})),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{value:"10",children:"10 per page"}),(0,t.jsx)("option",{value:"25",children:"25 per page"}),(0,t.jsx)("option",{value:"50",children:"50 per page"}),(0,t.jsx)("option",{value:"100",children:"100 per page"})]})})]})}),h&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Edit Chit #",h.id]}),(0,t.jsx)("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chit Value"}),(0,t.jsx)("input",{type:"number",value:h.chit_value,onChange:e=>m({...h,chit_value:parseFloat(e.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,t.jsx)("input",{type:"text",value:h.location,onChange:e=>m({...h,location:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,t.jsx)("input",{type:"text",value:h.state,onChange:e=>m({...h,state:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),(0,t.jsx)("input",{type:"text",value:h.branch,onChange:e=>m({...h,branch:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,t.jsx)("button",{type:"button",onClick:()=>m(null),className:"px-6 py-3 border border-gray-300 rounded-xl hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Save Changes"})]})]})]})})}),p&&b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-6",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.346 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"Delete Chit?"}),(0,t.jsxs)("p",{className:"text-gray-600 text-center mb-8",children:["Are you sure you want to delete chit #",b.id," from ",b.location,"? This action cannot be undone."]}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>{g(!1),f(null)},className:"px-6 py-3 border border-gray-300 rounded-xl hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:$,className:"px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700",children:"Delete Chit"})]})]})})})]})}e.s(["default",()=>l])}]);